import{Q as f}from"./QCardSection.84ae62cc.js";import{Q as m}from"./QInput.82cd52d4.js";import{aq as R,aI as P,r as p,C as V,M as A,G as n,f as l,E as v,K as h,I as y,P as _}from"./index.be3bd688.js";import{Q as E}from"./QForm.7b1afa2b.js";import{Q as q}from"./QCard.75c1762d.js";import{api as C}from"./axios.e7beadf7.js";import{s as d}from"./notification.2442c3fd.js";import"./uid.68c9ce75.js";import"./use-dark.43c996a0.js";const k=R("authstore",{state:()=>({counter:0}),getters:{doubleCount:r=>r.counter*2},actions:{increment(){this.counter++},register(r){return new Promise((u,o)=>{C({method:"POST",url:"/auth/signUp",headers:{"Content-Type":"application/json"},data:r}).then(e=>{u(e),e.data.status==200?d("S",e):d("RE",e)}).catch(e=>{d("EE",e),o(e)})})},login(r){return new Promise((u,o)=>{axios({method:"POST",url:`${endpoint}/auth/login`,headers:{"Content-Type":"application/json"},data:r}).then(e=>{console.log(e),e.data.status==200&&(commit("setUserDetails",e.data),localStorage.setItem("accessToken",e.data.accessToken),d("S",e)),u(e),e.data.status!=200&&d("RE",e)}).catch(e=>{console.log(e,"Why?????????????/"),d("EE",e),o(e)})})}}});const Q={class:"text-grey-8"},I={__name:"RegisterPage",setup(r){const u=k(),o=p(""),e=p(""),i=p(""),g=p(""),c=t=>t&&t.length>0||"Required",S=t=>t===i.value||"Passwords do not match";function b(){o.value="",e.value="",i.value="",g.value=""}function w(){console.log("submitHandler is called"),x()}async function x(){console.log("this should print only after form validation");let t={NAME:o.value,EMAIL:e.value,PASSWORD:i.value};const a=await u.register(t);console.log("resolvedResponse :",a),console.log("This must not be get printed before the api req get resolved")}return(t,a)=>(V(),A(q,{class:"q-pa-md shadow-2 my_card",bordered:""},{default:n(()=>[l(f,{class:"text-center"},{default:n(()=>[v("div",{class:h(["text-h5 text-weight-bold",t.$q.dark.isActive?"text-grey-1 ":"text-grey-9"])}," Sign Up ",2),v("div",{class:h(t.$q.dark.isActive?"text-grey-5 ":"text-grey-8 ")}," Create your free account now. ",2)]),_:1}),l(E,{onSubmit:w,onReset:b,class:"q-gutter-md",greedy:""},{default:n(()=>[l(f,null,{default:n(()=>[l(m,{dense:"",outlined:"",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value=s),label:"Name",rules:[c]},null,8,["modelValue","rules"]),l(m,{dense:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":a[1]||(a[1]=s=>e.value=s),label:"Email Address",type:"email",rules:[c]},null,8,["modelValue","rules"]),l(m,{dense:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=s=>i.value=s),type:"password",label:"Password",rules:[c]},null,8,["modelValue","rules"]),l(m,{dense:"",outlined:"",modelValue:g.value,"onUpdate:modelValue":a[3]||(a[3]=s=>g.value=s),type:"password",label:"Confirm Password",rules:[c,S]},null,8,["modelValue","rules"]),l(y,{style:{"border-radius":"8px"},color:t.$q.dark.isActive?"primary":"dark",rounded:"",size:"md",label:"Sign Up","no-caps":"",class:"full-width",type:"submit"},null,8,["color"])]),_:1})]),_:1}),l(f,{class:"text-center q-pt-none"},{default:n(()=>[v("div",Q,[_(" Already have an account ? "),l(y,{flat:"","no-caps":"",to:{name:"login"},class:h([t.$q.dark.isActive?"text-grey-2":"text-dark ","text-weight-bold"])},{default:n(()=>[_("Log in")]),_:1},8,["class"])])]),_:1})]),_:1}))}};var L=P(I,[["__scopeId","data-v-46c340bf"]]);export{L as default};
