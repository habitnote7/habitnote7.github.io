import{_ as F,Q as q,a as J,b as L,c as W}from"./OptionSelecter2.ab9ae1ed.js";import{r as G,C as T,D as _,E as u,J as y,f as n,G as d,P as M,O as C,F as x,aH as $,aq as j,o as z,c as K,M as H,H as a,I as v,K as Z,an as X}from"./index.431dcb33.js";import"./iconify.4d43847a.js";import{P as Q,R as k,S as U,U as ee,V as te,W as ie,X as ae,Y as se,Z as le,$ as oe,a0 as Ie,a1 as ne,Q as w,i as Ee,j as V,_ as re,K as B,k as me,a2 as Te}from"./rtl.3aed263d.js";import{Q as N}from"./QInput.665a9d0a.js";import{h,a as de}from"./moment.f201de8e.js";import{Q as he}from"./QCard.9cbea35f.js";import{u as _e}from"./use-quasar.e647a0d9.js";import"./QTime.5af0cc2c.js";const ce={class:"q-mt-sm"},Ae={class:"col-12 row no-wrap justify-between content-center"},Oe={class:"self-end"},De={class:"text-grey-7 text-weight-medium"},Se={key:0},ue={key:1},Ce={class:"col-12",style:{"white-space":"pre-line"}},Pe={__name:"OneAPEntryDetail2",props:["apDetail","CMT_ID"],emits:["goToEdit"],setup(e,{emit:l}){const t=e,r=l,I=G(null);async function m(){var o,A,O,D;if(console.log("Form One AP EntryDetail 2 : myProps?.apDetail?.AP_ID",(o=t==null?void 0:t.apDetail)==null?void 0:o.AP_ID),console.log("Form One AP EntryDetail 2 : myProps?.CMT_ID",t==null?void 0:t.CMT_ID),((A=t==null?void 0:t.apDetail)==null?void 0:A.AP_ID)&&(t==null?void 0:t.CMT_ID)){const E=await Q((O=t==null?void 0:t.apDetail)==null?void 0:O.AP_ID,t==null?void 0:t.CMT_ID);E.length>0&&(E[0].OPTION_ID&&(E[0].OPTION_DETAILS=(D=t==null?void 0:t.apDetail)==null?void 0:D.AP_OPTIONS.find(S=>S.OPTION_ID==E[0].OPTION_ID)),I.value=E[0])}}return m(),(o,A)=>{var O,D,E,S,f,s,i,R,c,P,b,Y,g;return T(),_("div",ce,[u("div",Ae,[u("div",Oe,[u("span",De,y((O=e.apDetail)==null?void 0:O.PROMPT_LABEL),1)]),u("div",{class:"self-end",align:"right",onClick:A[0]||(A[0]=p=>r("goToEdit"))},[(D=I.value)!=null&&D.OPTION_DETAILS?(T(),_("span",Se,[n(F,{BGCOLOR:(S=(E=I.value)==null?void 0:E.OPTION_DETAILS)==null?void 0:S.OPTION_COLOR,EMOJI:(s=(f=I.value)==null?void 0:f.OPTION_DETAILS)==null?void 0:s.OPTION_EMOJI,SCORE:(R=(i=I.value)==null?void 0:i.OPTION_DETAILS)==null?void 0:R.OPTION_VALUE,LABEL:(P=(c=I.value)==null?void 0:c.OPTION_DETAILS)==null?void 0:P.OPTION_LABEL},null,8,["BGCOLOR","EMOJI","SCORE","LABEL"])])):((b=e.apDetail)==null?void 0:b.HAS_NUM)&&((Y=I.value)==null?void 0:Y.NUM_VALUE)?(T(),_("span",ue,[n(q,{outline:""},{default:d(()=>{var p;return[M(y((p=I.value)==null?void 0:p.NUM_VALUE),1)]}),_:1})])):C("",!0)])]),u("div",Ce,y((g=I.value)==null?void 0:g.NOTES),1)])}}},ye={class:"full-width"},Ne={class:"col-12 row no-wrap justify-between content-center"},Re={class:"self-end"},Me={class:"text-grey-6 text-weight-medium"},fe={key:0},ke={key:1},Ue={class:"col-12",style:{"white-space":"pre-line"}},je={__name:"OneCMEntryDetail2",props:["habitDetails","checkmark"],emits:["goToEdit"],setup(e,{emit:l}){const t=l;return(r,I)=>{var m,o,A,O,D,E,S,f,s,i,R,c;return T(),_("div",ye,[u("div",Ne,[u("div",Re,[u("span",Me,y((m=e.habitDetails)==null?void 0:m.QUESTION),1)]),u("div",{class:"self-end",align:"right",onClick:I[0]||(I[0]=P=>t("goToEdit"))},[(o=e.checkmark)!=null&&o.OPTION_DETAILS?(T(),_("span",fe,[n(F,{BGCOLOR:(O=(A=e.checkmark)==null?void 0:A.OPTION_DETAILS)==null?void 0:O.OPTION_COLOR,EMOJI:(E=(D=e.checkmark)==null?void 0:D.OPTION_DETAILS)==null?void 0:E.OPTION_EMOJI,SCORE:(f=(S=e.checkmark)==null?void 0:S.OPTION_DETAILS)==null?void 0:f.OPTION_VALUE,LABEL:(i=(s=e.checkmark)==null?void 0:s.OPTION_DETAILS)==null?void 0:i.OPTION_LABEL},null,8,["BGCOLOR","EMOJI","SCORE","LABEL"])])):(R=e.checkmark)!=null&&R.CONSTANT_VALUE?(T(),_("span",ke,[n(q,{outline:""},{default:d(()=>{var P;return[M(y((P=e.checkmark)==null?void 0:P.CONSTANT_VALUE),1)]}),_:1})])):C("",!0)])]),u("div",Ue,y(e.checkmark.NOTES),1),(T(!0),_(x,null,$((c=e.habitDetails)==null?void 0:c.apDetails,P=>(T(),_("div",{key:P.AP_ID},[n(Pe,{apDetail:P,CMT_ID:e.checkmark.CMT_ID,onGoToEdit:I[1]||(I[1]=b=>t("goToEdit"))},null,8,["apDetail","CMT_ID"])]))),128))])}}},He=j("addCheckMarkStore",{state:()=>({addCMDailog:!1,CMT_ID:0,forHabitId:0,forDate:"",habitDetails:null,optionDetails:[],additionalPromptDetails:[],mainCheckEditedItem:{CMT_ID:0,HABIT_ID:0,DATE:"",OPTION_ID:0,OPTION_OBJECT:null,OLD_CONSTANT_VALUE:0,CONSTANT_VALUE:0,TIME_ENTRY:h().format("YYYY-MM-DDTHH:mm"),NOTES:"",FROM_TIME:h().format("YYYY-MM-DDTHH:mm"),UPTO_TIME:h().format("YYYY-MM-DDTHH:mm"),DURATION:0},temp_ApOption_Obj:null,endOfWeek:"",monthofDate:"",endOfQuater:"",yearofDate:"",dailyScoreItem:{HP_ID:0,PERIODICITY:"Daily",HABIT_ID:0,REF_DATE:"",TARGET:0,SCORE:0,PERCENTAGE:0,MINUTES_SPEND:0,TIME_SCORE:0},weeklyScoreItem:{HP_ID:0,HABIT_ID:0,PERIODICITY:"Weekly",REF_DATE:"",TARGET:0,SCORE:0,PERCENTAGE:0,MINUTES_SPEND:0,TIME_SCORE:0},monthlyScoreItem:{HP_ID:0,HABIT_ID:0,PERIODICITY:"Monthly",REF_DATE:"",TARGET:0,SCORE:0,PERCENTAGE:0,MINUTES_SPEND:0,TIME_SCORE:0},quaterlyScoreItem:{HP_ID:0,HABIT_ID:0,PERIODICITY:"Quaterly",REF_DATE:"",TARGET:0,SCORE:0,PERCENTAGE:0,MINUTES_SPEND:0,TIME_SCORE:0},yearlyScoreItem:{HP_ID:0,HABIT_ID:0,PERIODICITY:"Yearly",REF_DATE:"",TARGET:0,SCORE:0,PERCENTAGE:0,MINUTES_SPEND:0,TIME_SCORE:0}}),actions:{resetCMStore(){this.addCMDailog=!1},async openCheckMarkDailog(e){var t,r;console.log("recievedData",e),this.forDate=e.forDate,this.forHabitId=e.habitDetails.HABIT_ID,this.habitDetails=e.habitDetails,this.optionDetails=Object.assign([],(t=e.habitDetails)==null?void 0:t.optionDetails);const l=Object.assign([],(r=e.habitDetails)==null?void 0:r.apDetails);e.CMT_ID?(this.CMT_ID=e.CMT_ID,this.mainCheckEditedItem=Object.assign({},e.CMDetails)):(this.mainCheckEditedItem.HABIT_ID=this.forHabitId,this.mainCheckEditedItem.DATE=this.forDate);for(let I=0;I<l.length;I++){let m=l[I],o=[];this.CMT_ID&&(o=await Q(m.AP_ID,this.CMT_ID)),o.length>0?(m.APAnswer=o[0],m.APAnswer.OPTION_OBJECT=null,m.APAnswer.OLD_NUM_VALUE=o[0].NUM_VALUE):m.APAnswer={APA_ID:0,AP_ID:m.AP_ID,CMT_ID:0,OPTION_OBJECT:null,OLD_NUM_VALUE:0,OPTION_ID:0,NUM_VALUE:0,NOTES:""},m.dailyAPScore=null,m.weeklyAPScore=null,m.monthlyAPScore=null,m.quaterlyAPScore=null,m.yearlyAPScore=null,this.additionalPromptDetails.push(m)}this.getScoreValues(),this.addCMDailog=!0},async getScoreValues(){this.endOfWeek=h(this.forDate).endOf("week").format("YYYY-MM-DD"),this.monthofDate=h(this.forDate).format("YYYY-MM"),this.endOfQuater=h(this.forDate).endOf("quarter").format("YYYY-MM-DD"),this.yearofDate=h(this.forDate).format("YYYY"),this.dailyScoreItem.HABIT_ID=this.forHabitId,this.dailyScoreItem.REF_DATE=this.forDate,this.weeklyScoreItem.HABIT_ID=this.forHabitId,this.weeklyScoreItem.REF_DATE=this.endOfWeek,this.monthlyScoreItem.HABIT_ID=this.forHabitId,this.monthlyScoreItem.REF_DATE=this.monthofDate,this.quaterlyScoreItem.HABIT_ID=this.forHabitId,this.quaterlyScoreItem.REF_DATE=this.endOfQuater,this.yearlyScoreItem.HABIT_ID=this.forHabitId,this.yearlyScoreItem.REF_DATE=this.yearofDate,console.log("getScoreValues");const e=await k(this.forHabitId,"Daily",this.forDate),l=await k(this.forHabitId,"Weekly",this.endOfWeek),t=await k(this.forHabitId,"Monthly",this.monthofDate),r=await k(this.forHabitId,"Quaterly",this.endOfQuater),I=await k(this.forHabitId,"Yearly",this.yearofDate);console.log("getScoreValues result1 :",e),e.length>0&&(this.dailyScoreItem.HP_ID=e[0].HP_ID,this.dailyScoreItem.HABIT_ID=e[0].HABIT_ID,this.dailyScoreItem.PERIODICITY=e[0].PERIODICITY,this.dailyScoreItem.REF_DATE=e[0].REF_DATE,this.dailyScoreItem.TARGET=e[0].TARGET,this.dailyScoreItem.SCORE=e[0].SCORE,this.dailyScoreItem.PERCENTAGE=e[0].PERCENTAGE,this.dailyScoreItem.MINUTES_SPEND=e[0].MINUTES_SPEND,this.dailyScoreItem.TIME_SCORE=e[0].TIME_SCORE),l.length>0&&(this.weeklyScoreItem.HP_ID=l[0].HP_ID,this.weeklyScoreItem.HABIT_ID=l[0].HABIT_ID,this.weeklyScoreItem.PERIODICITY=l[0].PERIODICITY,this.weeklyScoreItem.REF_DATE=l[0].REF_DATE,this.weeklyScoreItem.TARGET=l[0].TARGET,this.weeklyScoreItem.SCORE=l[0].SCORE,this.weeklyScoreItem.PERCENTAGE=l[0].PERCENTAGE,this.weeklyScoreItem.MINUTES_SPEND=l[0].MINUTES_SPEND,this.weeklyScoreItem.TIME_SCORE=l[0].TIME_SCORE),t.length>0&&(this.monthlyScoreItem.HP_ID=t[0].HP_ID,this.monthlyScoreItem.HABIT_ID=t[0].HABIT_ID,this.monthlyScoreItem.PERIODICITY=t[0].PERIODICITY,this.monthlyScoreItem.REF_DATE=t[0].REF_DATE,this.monthlyScoreItem.TARGET=t[0].TARGET,this.monthlyScoreItem.SCORE=t[0].SCORE,this.monthlyScoreItem.PERCENTAGE=t[0].PERCENTAGE,this.monthlyScoreItem.MINUTES_SPEND=t[0].MINUTES_SPEND,this.monthlyScoreItem.TIME_SCORE=t[0].TIME_SCORE),r.length>0&&(this.quaterlyScoreItem.HP_ID=r[0].HP_ID,this.quaterlyScoreItem.HABIT_ID=r[0].HABIT_ID,this.quaterlyScoreItem.PERIODICITY=r[0].PERIODICITY,this.quaterlyScoreItem.REF_DATE=r[0].REF_DATE,this.quaterlyScoreItem.TARGET=r[0].TARGET,this.quaterlyScoreItem.SCORE=r[0].SCORE,this.quaterlyScoreItem.PERCENTAGE=r[0].PERCENTAGE,this.quaterlyScoreItem.MINUTES_SPEND=r[0].MINUTES_SPEND,this.quaterlyScoreItem.TIME_SCORE=r[0].TIME_SCORE),I.length>0&&(this.yearlyScoreItem.HP_ID=I[0].HP_ID,this.yearlyScoreItem.HABIT_ID=I[0].HABIT_ID,this.yearlyScoreItem.PERIODICITY=I[0].PERIODICITY,this.yearlyScoreItem.REF_DATE=I[0].REF_DATE,this.yearlyScoreItem.TARGET=I[0].TARGET,this.yearlyScoreItem.SCORE=I[0].SCORE,this.yearlyScoreItem.PERCENTAGE=I[0].PERCENTAGE,this.yearlyScoreItem.MINUTES_SPEND=I[0].MINUTES_SPEND,this.yearlyScoreItem.TIME_SCORE=I[0].TIME_SCORE);for(let m=0;m<this.additionalPromptDetails.length;m++){let o=this.additionalPromptDetails[m];const A=await U(o.AP_ID,"Daily",this.forDate);A.length>0?o.dailyAPScore=A[0]:o.dailyAPScore={AP_ID:o.AP_ID,PERIODICITY:"Daily",REF_DATE:this.forDate,SCORE:0};const O=await U(o.AP_ID,"Weekly",this.endOfWeek);O.length>0?o.weeklyAPScore=O[0]:o.weeklyAPScore={AP_ID:o.AP_ID,PERIODICITY:"Weekly",REF_DATE:this.endOfWeek,SCORE:0};const D=await U(o.AP_ID,"Monthly",this.monthofDate);D.length>0?o.monthlyAPScore=D[0]:o.monthlyAPScore={AP_ID:o.AP_ID,PERIODICITY:"Monthly",REF_DATE:this.monthofDate,SCORE:0};const E=await U(o.AP_ID,"Quaterly",this.endOfQuater);E.length>0?o.quaterlyAPScore=E[0]:o.quaterlyAPScore={AP_ID:o.AP_ID,PERIODICITY:"Quaterly",REF_DATE:this.endOfQuater,SCORE:0};const S=await U(o.AP_ID,"Yearly",this.yearofDate);S.length>0?o.yearlyAPScore=S[0]:o.yearlyAPScore={AP_ID:o.AP_ID,PERIODICITY:"Yearly",REF_DATE:this.yearofDate,SCORE:0}}},async saveHabitScore(e){const l={HABIT_ID:e.HABIT_ID,PERIODICITY:e.PERIODICITY,REF_DATE:e.REF_DATE,TARGET:e.TARGET,SCORE:e.SCORE,PERCENTAGE:e.PERCENTAGE,MINUTES_SPEND:e.MINUTES_SPEND,TIME_SCORE:e.TIME_SCORE};e.HP_ID?(console.log("Update the Habit Score details"),l.HP_ID=e.HP_ID,await ee(Object.assign({},l))):(console.log("Add the New Habit Score details"),e.HP_ID=await te(Object.assign({},l)))},async saveAPScore(e){e.APP_ID?(console.log("Update the AP Score details"),e.APP_ID=await ie(Object.assign({},e))):(console.log("Add the New AP Score details"),e.APP_ID=await ae(Object.assign({},e)))},updateAllTypeHabitScore(e){this.dailyScoreItem.SCORE=this.dailyScoreItem.SCORE+e,this.weeklyScoreItem.SCORE=this.weeklyScoreItem.SCORE+e,this.monthlyScoreItem.SCORE=this.monthlyScoreItem.SCORE+e,this.quaterlyScoreItem.SCORE=this.quaterlyScoreItem.SCORE+e,this.yearlyScoreItem.SCORE=this.yearlyScoreItem.SCORE+e,this.saveHabitScore(this.dailyScoreItem),this.saveHabitScore(this.weeklyScoreItem),this.saveHabitScore(this.monthlyScoreItem),this.saveHabitScore(this.quaterlyScoreItem),this.saveHabitScore(this.yearlyScoreItem)},updateAllTypeAPScore(e,l){e.dailyAPScore.SCORE=e.dailyAPScore.SCORE+l,e.weeklyAPScore.SCORE=e.weeklyAPScore.SCORE+l,e.monthlyAPScore.SCORE=e.monthlyAPScore.SCORE+l,e.quaterlyAPScore.SCORE=e.quaterlyAPScore.SCORE+l,e.yearlyAPScore.SCORE=e.yearlyAPScore.SCORE+l,this.saveAPScore(e.dailyAPScore),this.saveAPScore(e.weeklyAPScore),this.saveAPScore(e.monthlyAPScore),this.saveAPScore(e.quaterlyAPScore),this.saveAPScore(e.yearlyAPScore)},saveOptions(){console.log(this.mainCheckEditedItem),this.mainCheckEditedItem.CONSTANT_VALUE=this.mainCheckEditedItem.OPTION_OBJECT.OPTION_VALUE,this.mainCheckEditedItem.NOTES=this.mainCheckEditedItem.NOTES+this.mainCheckEditedItem.OPTION_OBJECT.OPTION_DESC+`
`,this.saveConstantNum()},async saveConstantNum(){if(this.habitDetails.IS_ADDITIVE){const e=this.mainCheckEditedItem.CONSTANT_VALUE-this.mainCheckEditedItem.OLD_CONSTANT_VALUE;this.updateAllTypeHabitScore(e),this.mainCheckEditedItem.OLD_CONSTANT_VALUE=this.mainCheckEditedItem.CONSTANT_VALUE}this.saveCheckMarks()},cannotBeInFuture(e){let l=h(e);return h().diff(l,"minutes")<0?h().format("YYYY-MM-DDTHH:mm"):e},saveTimeEntry(){this.mainCheckEditedItem.TIME_ENTRY||(this.mainCheckEditedItem.TIME_ENTRY=h().format("YYYY-MM-DDTHH:mm")),this.mainCheckEditedItem.TIME_ENTRY=this.cannotBeInFuture(this.mainCheckEditedItem.TIME_ENTRY)},saveDurationEntry(){this.mainCheckEditedItem.FROM_TIME||(this.mainCheckEditedItem.FROM_TIME=h().format("YYYY-MM-DDTHH:mm")),this.mainCheckEditedItem.UPTO_TIME||(this.mainCheckEditedItem.UPTO_TIME=h().format("YYYY-MM-DDTHH:mm")),this.mainCheckEditedItem.FROM_TIME=this.cannotBeInFuture(this.mainCheckEditedItem.FROM_TIME);let e=h(this.mainCheckEditedItem.FROM_TIME),t=h(this.mainCheckEditedItem.UPTO_TIME).diff(e,"minutes"),r=h.duration(t,"minutes");console.log("duration : ",r),console.log("Duration in humanize form :",r.humanize()),this.mainCheckEditedItem.DURATION=t,t<0?(this.mainCheckEditedItem.UPTO_TIME=this.mainCheckEditedItem.FROM_TIME,this.saveDurationEntry()):this.saveCheckMarks()},async saveCheckMarks(){console.log("Saving Checkmarks");let e={HABIT_ID:this.mainCheckEditedItem.HABIT_ID,DATE:this.mainCheckEditedItem.DATE,OPTION_ID:this.mainCheckEditedItem.OPTION_ID,CONSTANT_VALUE:this.mainCheckEditedItem.CONSTANT_VALUE,TIME_ENTRY:this.habitDetails.IS_TIME_ENTRY?this.mainCheckEditedItem.TIME_ENTRY:"",NOTES:this.mainCheckEditedItem.NOTES,FROM_TIME:this.habitDetails.Is_DURATION_ENTRY?this.mainCheckEditedItem.FROM_TIME:"",UPTO_TIME:this.habitDetails.Is_DURATION_ENTRY?this.mainCheckEditedItem.UPTO_TIME:"",DURATION:this.habitDetails.Is_DURATION_ENTRY?this.mainCheckEditedItem.DURATION:0};this.CMT_ID?(e.CMT_ID=this.CMT_ID,await se(e)):(this.CMT_ID=await le(e),this.mainCheckEditedItem.CMT_ID=this.CMT_ID)},async saveAPOption(e){var t;const l=(t=this.temp_ApOption_Obj)==null?void 0:t.OPTION_VALUE;console.log("optValue :",l),e.APAnswer.NUM_VALUE=l,e.APAnswer.HAS_NOTES&&(e.APAnswer.NOTES=e.APAnswer.NOTES+this.temp_ApOption_Obj.OPTION_DESC+`
`),await this.saveAPNum(e)},async saveAPNum(e){if(e.IS_NUM_ADDITIVE){const l=e.APAnswer.NUM_VALUE-e.APAnswer.OLD_NUM_VALUE;this.updateAllTypeAPScore(e,l),e.APAnswer.OLD_NUM_VALUE=e.APAnswer.NUM_VALUE,e.IS_ADDED_IN_MAIN&&this.updateAllTypeHabitScore(l),e.IS_SUBTRACTED_IN_MAIN&&this.updateAllTypeHabitScore(-l)}await this.saveAPAnswers(e.APAnswer)},async saveAPAnswers(e){if(console.log("APAnswer",e),this.CMT_ID){console.log("SInce CMT ID is present , so directly save the AP Answer data"),e.CMT_ID=this.CMT_ID;let l={AP_ID:e.AP_ID,CMT_ID:this.CMT_ID,OPTION_ID:e.OPTION_ID,NUM_VALUE:parseFloat(e.NUM_VALUE),NOTES:e.NOTES};e.APA_ID?(l.APA_ID=e.APA_ID,await oe(Object.assign({},l))):e.APA_ID=await Ie(Object.assign({},l))}else await this.saveCheckMarks(),await this.saveAPAnswers()}}});const ve={class:"text-h6"},be={key:0,class:"row q-col-gutter-sm q-py-sm justify-center q-pa-sm"},pe={key:0,class:"q-ma-sm"},we={key:1,class:"q-ma-sm"},Ye={key:0,class:"q-ma-sm"},ge={key:1,class:"q-ma-sm"},Le={key:2,class:""},Ve={key:3,class:""},ze={__name:"CheckMarkPage2",emits:["closeCM"],setup(e,{emit:l}){const t=He(),r=l,I=h().format("YYYY-MM-DDTHH:mm");z(()=>{console.log("Component is mounted")});async function m(){r("closeCM"),t.resetCMStore()}async function o(){r("closeCM"),t.resetCMStore()}const A=K(()=>({height:S.screen.height-(E.value?100:200)+"px"})),O={right:"0px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.5},D={right:"-3px",borderRadius:"9px",backgroundColor:"#027be3",width:"9px",opacity:.2},E=G(!0),S=_e();return S.platform.is.mobile?E.value=!0:E.value=!1,(f,s)=>(T(),H(Te,{modelValue:a(t).addCMDailog,"onUpdate:modelValue":s[19]||(s[19]=i=>a(t).addCMDailog=i),persistent:"",maximized:E.value,"transition-show":"scale","transition-hide":"scale","backdrop-filter":"blur(4px)"},{default:d(()=>[n(he,{class:"",style:{width:"100%"}},{default:d(()=>[n(J,null,{default:d(()=>[u("div",ve,y(a(h)(a(t).forDate).format("dddd |  DD MMMM YYYY")),1),n(ne),n(v,{dense:"",flat:"",icon:"minimize",onClick:s[0]||(s[0]=i=>E.value=!1),disable:!E.value},{default:d(()=>[E.value?(T(),H(w,{key:0,class:"bg-white text-primary"},{default:d(()=>[M("Minimize")]),_:1})):C("",!0)]),_:1},8,["disable"]),n(v,{dense:"",flat:"",icon:"crop_square",onClick:s[1]||(s[1]=i=>E.value=!0),disable:E.value},{default:d(()=>[E.value?C("",!0):(T(),H(w,{key:0,class:"bg-white text-primary"},{default:d(()=>[M("Maximize")]),_:1}))]),_:1},8,["disable"]),n(v,{dense:"",flat:"",icon:"close",onClick:s[2]||(s[2]=i=>o())},{default:d(()=>[n(w,{class:"bg-white text-primary"},{default:d(()=>[M("Close")]),_:1})]),_:1})]),_:1}),a(t).habitDetails.HABIT_ID?(T(),_("div",be,[u("div",{class:Z(E.value?"col-12 col-md-8":"col-12 ")},[n(de,{style:X(A.value),visible:!1,"thumb-style":O,"bar-style":D},{default:d(()=>[n(Ee,{class:"q-ma-sm",style:{"border-radius":"8px"}},{default:d(()=>[n(V,{avatar:""},{default:d(()=>[n(re,{BGCOLOR:a(t).habitDetails.COLOR,EMOJI:a(t).habitDetails.EMOJI,SIZE:"lg",isRounded:!0},null,8,["BGCOLOR","EMOJI"])]),_:1}),n(V,null,{default:d(()=>[n(B,{lines:"1",class:"text-h5"},{default:d(()=>[M(y(a(t).habitDetails.HABIT_LABEL),1)]),_:1}),n(B,{class:"",lines:"3",style:{"white-space":"pre-line"}},{default:d(()=>[M(y(a(t).habitDetails.DESCRIPTION),1)]),_:1})]),_:1})]),_:1}),a(t).habitDetails.HAS_OPTION?(T(),_("div",pe,[n(L,{optionItem:a(t).optionDetails,questionLabel:a(t).habitDetails.QUESTION,optSelectedObj:a(t).mainCheckEditedItem.OPTION_OBJECT,"onUpdate:optSelectedObj":s[3]||(s[3]=i=>a(t).mainCheckEditedItem.OPTION_OBJECT=i),optSelectedId:a(t).mainCheckEditedItem.OPTION_ID,"onUpdate:optSelectedId":s[4]||(s[4]=i=>a(t).mainCheckEditedItem.OPTION_ID=i),"onUpdate:modelValue":s[5]||(s[5]=i=>a(t).saveOptions())},null,8,["optionItem","questionLabel","optSelectedObj","optSelectedId"])])):(T(),_("div",we,[n(N,{filled:"",label:a(t).habitDetails.QUESTION,type:"number",modelValue:a(t).mainCheckEditedItem.CONSTANT_VALUE,"onUpdate:modelValue":[s[6]||(s[6]=i=>a(t).mainCheckEditedItem.CONSTANT_VALUE=i),s[7]||(s[7]=i=>a(t).saveConstantNum())],debounce:"1000"},null,8,["label","modelValue"])])),n(N,{class:"q-ma-sm",filled:"",label:"Notes",type:"textarea",autogrow:"","input-style":"min-height: 100px;",modelValue:a(t).mainCheckEditedItem.NOTES,"onUpdate:modelValue":[s[8]||(s[8]=i=>a(t).mainCheckEditedItem.NOTES=i),s[9]||(s[9]=i=>a(t).saveCheckMarks())],debounce:"1000"},null,8,["modelValue"]),(T(!0),_(x,null,$(a(t).additionalPromptDetails,(i,R)=>(T(),_("div",{key:R},[i.HAS_OPTION?(T(),_("div",Ye,[n(L,{optionItem:i.AP_OPTIONS,questionLabel:i.PROMPT_LABEL,optSelectedObj:a(t).temp_ApOption_Obj,"onUpdate:optSelectedObj":s[10]||(s[10]=c=>a(t).temp_ApOption_Obj=c),optSelectedId:i.APAnswer.OPTION_ID,"onUpdate:optSelectedId":c=>i.APAnswer.OPTION_ID=c,"onUpdate:modelValue":c=>a(t).saveAPOption(i)},null,8,["optionItem","questionLabel","optSelectedObj","optSelectedId","onUpdate:optSelectedId","onUpdate:modelValue"])])):C("",!0),!i.HAS_OPTION&&i.HAS_NUM?(T(),_("div",ge,[n(N,{filled:"",label:i.PROMPT_LABEL,type:"number",modelValue:i.APAnswer.NUM_VALUE,"onUpdate:modelValue":[c=>i.APAnswer.NUM_VALUE=c,c=>a(t).saveAPNum(i)],debounce:"1000"},null,8,["label","modelValue","onUpdate:modelValue"])])):C("",!0),i.HAS_NOTES?(T(),H(N,{key:2,class:"q-ma-sm custom-textarea",filled:"",label:i.HAS_NUM||i.HAS_OPTION?"Notes for "+i.PROMPT_LABEL:i.PROMPT_LABEL,type:"textarea",modelValue:i.APAnswer.NOTES,"onUpdate:modelValue":[c=>i.APAnswer.NOTES=c,c=>a(t).saveAPAnswers(i)],autogrow:"","input-style":"min-height: 100px;",debounce:"1000"},null,8,["label","modelValue","onUpdate:modelValue"])):C("",!0)]))),128)),a(t).habitDetails.Is_DURATION_ENTRY?(T(),_("div",Le,[n(N,{class:"q-ma-sm",filled:"",label:"Start Time",type:"datetime-local",modelValue:a(t).mainCheckEditedItem.FROM_TIME,"onUpdate:modelValue":[s[11]||(s[11]=i=>a(t).mainCheckEditedItem.FROM_TIME=i),s[12]||(s[12]=i=>a(t).saveDurationEntry())],max:a(I)},null,8,["modelValue","max"]),n(N,{class:"q-ma-sm",filled:"",label:"End Time",type:"datetime-local",modelValue:a(t).mainCheckEditedItem.UPTO_TIME,"onUpdate:modelValue":[s[13]||(s[13]=i=>a(t).mainCheckEditedItem.UPTO_TIME=i),s[14]||(s[14]=i=>a(t).saveDurationEntry())],max:a(I),min:a(t).mainCheckEditedItem.FROM_TIME},null,8,["modelValue","max","min"]),n(N,{class:"q-ma-sm",filled:"",label:"Duration (mins)",type:"number",modelValue:a(t).mainCheckEditedItem.DURATION,"onUpdate:modelValue":s[15]||(s[15]=i=>a(t).mainCheckEditedItem.DURATION=i),readonly:""},null,8,["modelValue"])])):C("",!0),a(t).habitDetails.IS_TIME_ENTRY?(T(),_("div",Ve,[n(N,{class:"q-ma-sm",filled:"",label:"Done at",type:"datetime-local",modelValue:a(t).mainCheckEditedItem.TIME_ENTRY,"onUpdate:modelValue":[s[16]||(s[16]=i=>a(t).mainCheckEditedItem.TIME_ENTRY=i),s[17]||(s[17]=i=>a(t).saveTimeEntry())],max:a(I)},null,8,["modelValue","max"])])):C("",!0)]),_:1},8,["style"])],2)])):C("",!0),n(me),n(W,{align:"right"},{default:d(()=>[n(v,{label:"Ok",color:"primary",onClick:s[18]||(s[18]=i=>m())})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]))}};export{je as _,ze as a,He as u};
